/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package view;

import dao.Dao;
import entities.Cliente;
import entities.Doctor;
import entities.Institucion;
import entities.TipoPago;
import entities.ficha.Armazon;
import entities.ficha.EtiquetFicha;
import entities.ficha.Ficha;
import entities.ficha.HistorialPago;
import fn.Boton;
import fn.GV;
import fn.Icons;
import fn.OptionPane;
import fn.globalValues.GlobalValuesFunctions;
import java.awt.Color;
import java.sql.SQLException;
import java.text.ParseException;
import java.util.Date;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.SpinnerNumberModel;
import view.opanel.OpanelGuaranteeData;
import view.opanel.OpanelViewOrOpenDelivery;

/**
 *
 * @author home
 */
public class VFicha extends javax.swing.JPanel {

    private Dao load = new Dao();
    private static Color rojo = Color.red;
    private static Color negro = Color.black;
    private static String DATE_FORMAT = "dd/mm/yyyy";
    Boton boton = new Boton();
    private static boolean thisEjecucion = false;
    /**
     * Creates new form VNuevaFicha
     */
    public VFicha() throws SQLException, ClassNotFoundException {
        
        initComponents();
        cargarCbos();
        load();
        GV.cursorDF();
        GV.cursorDF(this);
        
        thisEjecucion = true;
       // JFormattedTextField.COMMIT_OR_REVERT. Esta es la opción por defecto y la más útil. Si el texto introducido es incorrecto, se vuelve automáticamente al último valor bueno conocido. Si el texto no es válido, se muestra el último valor bueno conocido.<>
    }
    
    

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        iconCalendar = new javax.swing.JLabel();
        iconPlace = new javax.swing.JLabel();
        txtFechaEntrega = new javax.swing.JLabel();
        txtLugarEntrega = new javax.swing.JLabel();
        jPanel11 = new javax.swing.JPanel();
        iconClock2 = new javax.swing.JLabel();
        txtHora = new javax.swing.JLabel();
        jPanel4 = new javax.swing.JPanel();
        iconDoctor = new javax.swing.JLabel();
        txtDoctor = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        cboSexo = new javax.swing.JComboBox<>();
        jLabel14 = new javax.swing.JLabel();
        iconDni = new javax.swing.JLabel();
        iconInstitucion = new javax.swing.JLabel();
        iconGender = new javax.swing.JLabel();
        iconMail = new javax.swing.JLabel();
        iconAddress = new javax.swing.JLabel();
        iconPhone2 = new javax.swing.JLabel();
        iconPhone1 = new javax.swing.JLabel();
        txtInstitucion = new javax.swing.JLabel();
        txtRutCliente = new javax.swing.JLabel();
        txtNombreCliente = new javax.swing.JLabel();
        txtTelefonoCliente1 = new javax.swing.JLabel();
        txtTelefonoCliente2 = new javax.swing.JLabel();
        txtDireccionCliente = new javax.swing.JLabel();
        txtMailCliente = new javax.swing.JLabel();
        txtNacimiento = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        jLabel10 = new javax.swing.JLabel();
        txtArmazonLejos = new javax.swing.JTextField();
        jLabel16 = new javax.swing.JLabel();
        txtODLejosESF = new javax.swing.JTextField();
        jLabel17 = new javax.swing.JLabel();
        txtODLejosCIL = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        txtODLejosA = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        txtOILejosESF = new javax.swing.JTextField();
        txtOILejosCIL = new javax.swing.JTextField();
        txtOILejosA = new javax.swing.JTextField();
        jLabel20 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        jLabel22 = new javax.swing.JLabel();
        txtDPLejos = new javax.swing.JSpinner();
        chkEndurecidoLejos = new javax.swing.JCheckBox();
        chkCapaLejos = new javax.swing.JCheckBox();
        chkPlusMaxLejos = new javax.swing.JCheckBox();
        jLabel26 = new javax.swing.JLabel();
        txtCristalLejos = new javax.swing.JTextField();
        jLabel31 = new javax.swing.JLabel();
        jLabel41 = new javax.swing.JLabel();
        jPanel5 = new javax.swing.JPanel();
        jLabel32 = new javax.swing.JLabel();
        txtArmazonCerca = new javax.swing.JTextField();
        jLabel33 = new javax.swing.JLabel();
        txtODCercaESF = new javax.swing.JTextField();
        jLabel34 = new javax.swing.JLabel();
        txtODCercaCIL = new javax.swing.JTextField();
        jLabel35 = new javax.swing.JLabel();
        txtODCercaA = new javax.swing.JTextField();
        jLabel36 = new javax.swing.JLabel();
        txtOICercaESF = new javax.swing.JTextField();
        txtOICercaCIL = new javax.swing.JTextField();
        txtOICercaA = new javax.swing.JTextField();
        jLabel37 = new javax.swing.JLabel();
        jLabel38 = new javax.swing.JLabel();
        jLabel39 = new javax.swing.JLabel();
        txtDPCerca = new javax.swing.JSpinner();
        chkEndurecidoCerca = new javax.swing.JCheckBox();
        chkCapaCerca = new javax.swing.JCheckBox();
        chkPlusMaxCerca = new javax.swing.JCheckBox();
        jLabel40 = new javax.swing.JLabel();
        txtAddCerca = new javax.swing.JTextField();
        jLabel28 = new javax.swing.JLabel();
        txtCristalCerca = new javax.swing.JTextField();
        jLabel29 = new javax.swing.JLabel();
        jLabel30 = new javax.swing.JLabel();
        jPanel6 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        txtObs = new javax.swing.JTextArea();
        jPanel7 = new javax.swing.JPanel();
        jLabel24 = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        txtAbono = new javax.swing.JSpinner();
        cboTipoPago = new javax.swing.JComboBox<>();
        jLabel27 = new javax.swing.JLabel();
        lblDescuento = new javax.swing.JLabel();
        txtSaldo = new javax.swing.JTextField();
        txtDescuento = new javax.swing.JTextField();
        txtTotal = new javax.swing.JTextField();
        jLabel42 = new javax.swing.JLabel();
        txtAbonos = new javax.swing.JTextField();
        btnPrint = new javax.swing.JLabel();
        lblMessageStatus = new javax.swing.JLabel();
        jPanel12 = new javax.swing.JPanel();
        txtFolio = new javax.swing.JLabel();
        iconClock3 = new javax.swing.JLabel();
        btnAbonar = new javax.swing.JLabel();
        btnHistorialPagos = new javax.swing.JLabel();
        btnGarantia = new javax.swing.JLabel();
        btnDespachar = new javax.swing.JLabel();

        setBackground(new java.awt.Color(255, 255, 255));
        setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Fecha de entrega y lugar", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI Light", 1, 14))); // NOI18N
        jPanel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        iconCalendar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Calendar_25px.png"))); // NOI18N
        iconCalendar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconCalendarMouseClicked(evt);
            }
        });
        jPanel1.add(iconCalendar, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 30, -1, 20));

        iconPlace.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Geo-fence_25px.png"))); // NOI18N
        iconPlace.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconPlaceMouseClicked(evt);
            }
        });
        jPanel1.add(iconPlace, new org.netbeans.lib.awtextra.AbsoluteConstraints(190, 25, -1, 30));

        txtFechaEntrega.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtFechaEntrega.setText("jLabel1");
        jPanel1.add(txtFechaEntrega, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 30, -1, -1));

        txtLugarEntrega.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtLugarEntrega.setText("jLabel1");
        jPanel1.add(txtLugarEntrega, new org.netbeans.lib.awtextra.AbsoluteConstraints(230, 30, -1, -1));

        jPanel11.setBackground(new java.awt.Color(255, 255, 255));
        jPanel11.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Hora", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI Light", 1, 14))); // NOI18N
        jPanel11.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        iconClock2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Clock_25px.png"))); // NOI18N
        iconClock2.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconClock2MouseClicked(evt);
            }
        });
        jPanel11.add(iconClock2, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 20, -1, 40));

        txtHora.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtHora.setText("jLabel1");
        jPanel11.add(txtHora, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 30, -1, -1));

        jPanel4.setBackground(new java.awt.Color(255, 255, 255));
        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Especialista", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI Light", 1, 14))); // NOI18N

        iconDoctor.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Account_25px.png"))); // NOI18N
        iconDoctor.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconDoctorMouseClicked(evt);
            }
        });

        txtDoctor.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtDoctor.setText("jLabel1");

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(iconDoctor)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txtDoctor)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(txtDoctor)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addComponent(iconDoctor, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );

        jPanel2.setBackground(new java.awt.Color(255, 255, 255));
        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Datos de Cliente", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI Light", 1, 14))); // NOI18N

        jLabel7.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel7.setText("Nombre");

        cboSexo.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        cboSexo.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        cboSexo.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                cboSexoItemStateChanged(evt);
            }
        });

        jLabel14.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel14.setText("Nacimiento: ");

        iconDni.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Contact_Details_25px.png"))); // NOI18N
        iconDni.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconDniMouseClicked(evt);
            }
        });

        iconInstitucion.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Business_Building_25px_1.png"))); // NOI18N
        iconInstitucion.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconInstitucionMouseClicked(evt);
            }
        });

        iconGender.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Gender_25px.png"))); // NOI18N
        iconGender.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconGenderMouseClicked(evt);
            }
        });

        iconMail.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_New_Post_25px.png"))); // NOI18N
        iconMail.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconMailMouseClicked(evt);
            }
        });

        iconAddress.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Geo-fence_25px.png"))); // NOI18N
        iconAddress.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconAddressMouseClicked(evt);
            }
        });

        iconPhone2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Cell_Phone_25px.png"))); // NOI18N
        iconPhone2.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconPhone2MouseClicked(evt);
            }
        });

        iconPhone1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Cell_Phone_25px.png"))); // NOI18N
        iconPhone1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconPhone1MouseClicked(evt);
            }
        });

        txtInstitucion.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtInstitucion.setText("Institucion");

        txtRutCliente.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtRutCliente.setText("Rut");

        txtNombreCliente.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtNombreCliente.setText("Nombre");

        txtTelefonoCliente1.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtTelefonoCliente1.setText("Tel1");

        txtTelefonoCliente2.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtTelefonoCliente2.setText("Tel1");

        txtDireccionCliente.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtDireccionCliente.setText("Label");

        txtMailCliente.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtMailCliente.setText("Mail");

        txtNacimiento.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtNacimiento.setText("Date");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(iconInstitucion)
                    .addComponent(iconAddress))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(txtInstitucion, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(163, 163, 163)
                        .addComponent(iconDni)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtRutCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 82, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(24, 24, 24)
                        .addComponent(jLabel7)
                        .addGap(4, 4, 4)
                        .addComponent(txtNombreCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 345, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(iconPhone1))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(txtDireccionCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 600, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(iconMail)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtMailCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 192, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(iconGender)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txtTelefonoCliente1, javax.swing.GroupLayout.PREFERRED_SIZE, 82, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cboSexo, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(iconPhone2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtTelefonoCliente2, javax.swing.GroupLayout.PREFERRED_SIZE, 82, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel14, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtNacimiento, javax.swing.GroupLayout.PREFERRED_SIZE, 82, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(71, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel7)
                        .addComponent(txtRutCliente)
                        .addComponent(txtNombreCliente))
                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(txtInstitucion)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addGap(5, 5, 5)
                                .addComponent(iconInstitucion, javax.swing.GroupLayout.PREFERRED_SIZE, 18, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(iconDni, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(txtTelefonoCliente1)
                    .addComponent(txtTelefonoCliente2))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 9, Short.MAX_VALUE)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(iconMail)
                        .addComponent(txtDireccionCliente)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(cboSexo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel14)
                            .addComponent(txtNacimiento))
                        .addComponent(txtMailCliente))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(iconAddress)
                        .addGap(3, 3, 3)))
                .addContainerGap())
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(iconPhone1, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(iconPhone2, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(9, 9, 9)
                .addComponent(iconGender)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        jPanel3.setBackground(new java.awt.Color(255, 255, 255));
        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "LEJOS ", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI Light", 1, 14))); // NOI18N

        jLabel10.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel10.setText("Armazon");

        txtArmazonLejos.setEditable(false);
        txtArmazonLejos.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtArmazonLejosFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtArmazonLejosFocusLost(evt);
            }
        });
        txtArmazonLejos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtArmazonLejosActionPerformed(evt);
            }
        });
        txtArmazonLejos.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtArmazonLejosKeyTyped(evt);
            }
        });

        jLabel16.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel16.setText("O.D.   ");

        txtODLejosESF.setEditable(false);
        txtODLejosESF.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtODLejosESFFocusLost(evt);
            }
        });
        txtODLejosESF.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtODLejosESFKeyTyped(evt);
            }
        });

        jLabel17.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel17.setText("ESF");

        txtODLejosCIL.setEditable(false);
        txtODLejosCIL.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtODLejosCILFocusLost(evt);
            }
        });
        txtODLejosCIL.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtODLejosCILKeyTyped(evt);
            }
        });

        jLabel18.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel18.setText("CIL");

        txtODLejosA.setEditable(false);
        txtODLejosA.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtODLejosAFocusLost(evt);
            }
        });
        txtODLejosA.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtODLejosAKeyTyped(evt);
            }
        });

        jLabel19.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel19.setText("O.I.   ");

        txtOILejosESF.setEditable(false);
        txtOILejosESF.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtOILejosESFFocusLost(evt);
            }
        });
        txtOILejosESF.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtOILejosESFKeyTyped(evt);
            }
        });

        txtOILejosCIL.setEditable(false);
        txtOILejosCIL.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtOILejosCILFocusLost(evt);
            }
        });
        txtOILejosCIL.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtOILejosCILKeyTyped(evt);
            }
        });

        txtOILejosA.setEditable(false);
        txtOILejosA.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtOILejosAFocusLost(evt);
            }
        });
        txtOILejosA.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtOILejosAKeyTyped(evt);
            }
        });

        jLabel20.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel20.setText("CIL");

        jLabel21.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel21.setText("ESF");

        jLabel22.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel22.setText("D.P.   ");

        txtDPLejos.setModel(new javax.swing.SpinnerNumberModel(0, -99, 99, 1));

        chkEndurecidoLejos.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        chkEndurecidoLejos.setText("ENDURECIDO");
        chkEndurecidoLejos.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkEndurecidoLejosItemStateChanged(evt);
            }
        });

        chkCapaLejos.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        chkCapaLejos.setText("CAPA");
        chkCapaLejos.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkCapaLejosItemStateChanged(evt);
            }
        });

        chkPlusMaxLejos.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        chkPlusMaxLejos.setText("PLUS MAX");
        chkPlusMaxLejos.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkPlusMaxLejosItemStateChanged(evt);
            }
        });

        jLabel26.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel26.setText("Cristal");

        txtCristalLejos.setEditable(false);
        txtCristalLejos.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtCristalLejosFocusLost(evt);
            }
        });
        txtCristalLejos.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtCristalLejosKeyTyped(evt);
            }
        });

        jLabel31.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel31.setText("A");

        jLabel41.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel41.setText("A");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(jLabel16, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(jLabel17)
                        .addGap(4, 4, 4)
                        .addComponent(txtODLejosESF, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(jLabel18)
                        .addGap(28, 28, 28)
                        .addComponent(txtODLejosCIL, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(42, 42, 42)
                        .addComponent(jLabel31)
                        .addGap(4, 4, 4)
                        .addComponent(txtODLejosA, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(jLabel21)
                        .addGap(4, 4, 4)
                        .addComponent(txtOILejosESF, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(jLabel20)
                        .addGap(28, 28, 28)
                        .addComponent(txtOILejosCIL, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(42, 42, 42)
                        .addComponent(jLabel41)
                        .addGap(4, 4, 4)
                        .addComponent(txtOILejosA, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(jLabel22, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(txtDPLejos, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(chkEndurecidoLejos)
                        .addGap(2, 2, 2)
                        .addComponent(chkCapaLejos)
                        .addGap(2, 2, 2)
                        .addComponent(chkPlusMaxLejos))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel10)
                            .addComponent(jLabel26))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(txtArmazonLejos, javax.swing.GroupLayout.DEFAULT_SIZE, 296, Short.MAX_VALUE)
                            .addComponent(txtCristalLejos))))
                .addContainerGap(30, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel10))
                    .addComponent(txtArmazonLejos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel26))
                    .addComponent(txtCristalLejos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel16))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel17))
                    .addComponent(txtODLejosESF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel18))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addComponent(txtODLejosCIL, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel31))
                    .addComponent(txtODLejosA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(5, 5, 5)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel19)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel21))
                    .addComponent(txtOILejosESF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel20))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(5, 5, 5)
                        .addComponent(txtOILejosCIL, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel41))
                    .addComponent(txtOILejosA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(25, 25, 25)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(4, 4, 4)
                        .addComponent(jLabel22))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addComponent(txtDPLejos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(chkEndurecidoLejos)
                    .addComponent(chkCapaLejos)
                    .addComponent(chkPlusMaxLejos)))
        );

        jPanel5.setBackground(new java.awt.Color(255, 255, 255));
        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "CERCA", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI Light", 1, 14))); // NOI18N

        jLabel32.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel32.setText("Armazon");

        txtArmazonCerca.setEditable(false);
        txtArmazonCerca.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtArmazonCercaFocusLost(evt);
            }
        });
        txtArmazonCerca.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtArmazonCercaKeyTyped(evt);
            }
        });

        jLabel33.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel33.setText("O.D.   ");

        txtODCercaESF.setEditable(false);
        txtODCercaESF.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtODCercaESFFocusLost(evt);
            }
        });
        txtODCercaESF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtODCercaESFActionPerformed(evt);
            }
        });
        txtODCercaESF.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtODCercaESFKeyTyped(evt);
            }
        });

        jLabel34.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel34.setText("ESF");

        txtODCercaCIL.setEditable(false);
        txtODCercaCIL.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtODCercaCILFocusLost(evt);
            }
        });
        txtODCercaCIL.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtODCercaCILKeyTyped(evt);
            }
        });

        jLabel35.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel35.setText("A");

        txtODCercaA.setEditable(false);
        txtODCercaA.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtODCercaAFocusLost(evt);
            }
        });
        txtODCercaA.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtODCercaAKeyTyped(evt);
            }
        });

        jLabel36.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel36.setText("O.I.   ");

        txtOICercaESF.setEditable(false);
        txtOICercaESF.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtOICercaESFFocusLost(evt);
            }
        });
        txtOICercaESF.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtOICercaESFKeyTyped(evt);
            }
        });

        txtOICercaCIL.setEditable(false);
        txtOICercaCIL.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtOICercaCILFocusLost(evt);
            }
        });
        txtOICercaCIL.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtOICercaCILKeyTyped(evt);
            }
        });

        txtOICercaA.setEditable(false);
        txtOICercaA.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtOICercaAFocusLost(evt);
            }
        });
        txtOICercaA.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtOICercaAKeyTyped(evt);
            }
        });

        jLabel37.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel37.setText("A");

        jLabel38.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel38.setText("ESF");

        jLabel39.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel39.setText("D.P.   ");

        txtDPCerca.setModel(new javax.swing.SpinnerNumberModel(0, -99, 99, 1));

        chkEndurecidoCerca.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        chkEndurecidoCerca.setText("ENDURECIDO");
        chkEndurecidoCerca.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkEndurecidoCercaItemStateChanged(evt);
            }
        });

        chkCapaCerca.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        chkCapaCerca.setText("CAPA");
        chkCapaCerca.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkCapaCercaItemStateChanged(evt);
            }
        });

        chkPlusMaxCerca.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        chkPlusMaxCerca.setText("PLUS MAX");
        chkPlusMaxCerca.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkPlusMaxCercaItemStateChanged(evt);
            }
        });

        jLabel40.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel40.setText("ADD  ");

        txtAddCerca.setEditable(false);
        txtAddCerca.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtAddCercaFocusLost(evt);
            }
        });
        txtAddCerca.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtAddCercaKeyTyped(evt);
            }
        });

        jLabel28.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel28.setText("Cristal");

        txtCristalCerca.setEditable(false);
        txtCristalCerca.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtCristalCercaFocusLost(evt);
            }
        });
        txtCristalCerca.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtCristalCercaKeyTyped(evt);
            }
        });

        jLabel29.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel29.setText("CIL");

        jLabel30.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        jLabel30.setText("CIL");

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(jLabel33, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(jLabel34)
                        .addGap(4, 4, 4)
                        .addComponent(txtODCercaESF, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(44, 44, 44)
                        .addComponent(jLabel29)
                        .addGap(4, 4, 4)
                        .addComponent(txtODCercaCIL, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(34, 34, 34)
                        .addComponent(jLabel35)
                        .addGap(4, 4, 4)
                        .addComponent(txtODCercaA, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(jLabel36, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(jLabel38)
                        .addGap(4, 4, 4)
                        .addComponent(txtOICercaESF, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(44, 44, 44)
                        .addComponent(jLabel30)
                        .addGap(4, 4, 4)
                        .addComponent(txtOICercaCIL, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(34, 34, 34)
                        .addComponent(jLabel37)
                        .addGap(4, 4, 4)
                        .addComponent(txtOICercaA, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(jLabel39, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(txtDPCerca, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(chkEndurecidoCerca)
                        .addGap(2, 2, 2)
                        .addComponent(chkCapaCerca)
                        .addGap(2, 2, 2)
                        .addComponent(chkPlusMaxCerca))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel40, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel28)
                            .addComponent(jLabel32))
                        .addGap(26, 26, 26)
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtCristalCerca)
                            .addComponent(txtAddCerca)
                            .addComponent(txtArmazonCerca))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel32))
                    .addComponent(txtArmazonCerca, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel28))
                    .addComponent(txtCristalCerca, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel40))
                    .addComponent(txtAddCerca, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(7, 7, 7)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txtODCercaESF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtODCercaCIL, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtODCercaA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel33)
                            .addComponent(jLabel34)
                            .addComponent(jLabel29)
                            .addComponent(jLabel35))))
                .addGap(11, 11, 11)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel36)
                    .addComponent(txtOICercaESF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtOICercaCIL, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtOICercaA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel38)
                            .addComponent(jLabel30)
                            .addComponent(jLabel37))))
                .addGap(5, 5, 5)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(4, 4, 4)
                        .addComponent(jLabel39))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addComponent(txtDPCerca, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(chkEndurecidoCerca)
                    .addComponent(chkCapaCerca)
                    .addComponent(chkPlusMaxCerca)))
        );

        jPanel6.setBackground(new java.awt.Color(255, 255, 255));
        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Observaciones", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI Light", 1, 14))); // NOI18N

        txtObs.setEditable(false);
        txtObs.setColumns(20);
        txtObs.setRows(5);
        jScrollPane1.setViewportView(txtObs);

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 442, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 42, Short.MAX_VALUE)
                .addContainerGap())
        );

        jPanel7.setBackground(new java.awt.Color(255, 255, 255));
        jPanel7.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jPanel7.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel24.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        jLabel24.setText("Abonos");
        jPanel7.add(jLabel24, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 40, -1, -1));

        jLabel25.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        jLabel25.setText("Abonar");
        jPanel7.add(jLabel25, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 70, -1, -1));

        txtAbono.setModel(new javax.swing.SpinnerNumberModel(0, 0, 9999999, 1));
        txtAbono.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                txtAbonoStateChanged(evt);
            }
        });
        jPanel7.add(txtAbono, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 70, 134, -1));

        cboTipoPago.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        cboTipoPago.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        cboTipoPago.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                cboTipoPagoItemStateChanged(evt);
            }
        });
        jPanel7.add(cboTipoPago, new org.netbeans.lib.awtextra.AbsoluteConstraints(250, 70, 110, -1));

        jLabel27.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        jLabel27.setText("Saldo");
        jPanel7.add(jLabel27, new org.netbeans.lib.awtextra.AbsoluteConstraints(60, 100, -1, -1));

        lblDescuento.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        lblDescuento.setText("Dscto");
        jPanel7.add(lblDescuento, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 10, -1, -1));

        txtSaldo.setEditable(false);
        txtSaldo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtSaldoActionPerformed(evt);
            }
        });
        txtSaldo.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                txtSaldoPropertyChange(evt);
            }
        });
        jPanel7.add(txtSaldo, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 100, 118, -1));

        txtDescuento.setEditable(false);
        txtDescuento.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                txtDescuentoPropertyChange(evt);
            }
        });
        jPanel7.add(txtDescuento, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 10, 80, -1));

        txtTotal.setEditable(false);
        txtTotal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtTotalActionPerformed(evt);
            }
        });
        txtTotal.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                txtTotalPropertyChange(evt);
            }
        });
        jPanel7.add(txtTotal, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 10, 117, -1));

        jLabel42.setFont(new java.awt.Font("Segoe UI Light", 1, 11)); // NOI18N
        jLabel42.setText("Valor total");
        jPanel7.add(jLabel42, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 10, -1, -1));

        txtAbonos.setEditable(false);
        txtAbonos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtAbonosActionPerformed(evt);
            }
        });
        txtAbonos.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                txtAbonosPropertyChange(evt);
            }
        });
        jPanel7.add(txtAbonos, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 40, 117, -1));

        btnPrint.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Print_50px.png"))); // NOI18N
        btnPrint.setToolTipText("Imprimir");
        btnPrint.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnPrintMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                btnPrintMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                btnPrintMouseExited(evt);
            }
        });

        lblMessageStatus.setFont(new java.awt.Font("Segoe UI Light", 1, 18)); // NOI18N
        lblMessageStatus.setText("jLabel1");

        jPanel12.setBackground(new java.awt.Color(255, 255, 255));
        jPanel12.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Folio", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI Light", 1, 14))); // NOI18N
        jPanel12.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        txtFolio.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        txtFolio.setText("100222333777/30900");
        jPanel12.add(txtFolio, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 30, 160, 20));

        iconClock3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Choice_25px.png"))); // NOI18N
        iconClock3.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                iconClock3MouseClicked(evt);
            }
        });
        jPanel12.add(iconClock3, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 20, -1, 40));

        btnAbonar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Paper_Money_50px.png"))); // NOI18N
        btnAbonar.setToolTipText("Abonar");
        btnAbonar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnAbonarMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                btnAbonarMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                btnAbonarMouseExited(evt);
            }
        });

        btnHistorialPagos.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Stack_of_Money_50px.png"))); // NOI18N
        btnHistorialPagos.setToolTipText("Ver el historial de pagos");
        btnHistorialPagos.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnHistorialPagosMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                btnHistorialPagosMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                btnHistorialPagosMouseExited(evt);
            }
        });

        btnGarantia.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Guarantee_50px.png"))); // NOI18N
        btnGarantia.setToolTipText("Generar garantía");
        btnGarantia.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnGarantiaMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                btnGarantiaMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                btnGarantiaMouseExited(evt);
            }
        });

        btnDespachar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icons/icons8_Move_Stock_50px.png"))); // NOI18N
        btnDespachar.setToolTipText("Datos de despacho");
        btnDespachar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnDespacharMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                btnDespacharMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                btnDespacharMouseExited(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(btnDespachar)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnGarantia)
                .addGap(18, 18, 18)
                .addComponent(btnHistorialPagos)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnAbonar)
                .addGap(18, 18, 18)
                .addComponent(btnPrint)
                .addGap(83, 83, 83))
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jPanel12, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 500, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel11, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(1, 1, 1)
                                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(lblMessageStatus)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, 484, Short.MAX_VALUE)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(0, 0, Short.MAX_VALUE)))))
                .addGap(68, 68, 68))
            .addGroup(layout.createSequentialGroup()
                .addGap(1, 1, 1)
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanel11, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel12, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(18, 18, 18)
                        .addComponent(lblMessageStatus))
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btnPrint)
                    .addComponent(btnAbonar)
                    .addComponent(btnHistorialPagos)
                    .addComponent(btnGarantia)
                    .addComponent(btnDespachar))
                .addGap(34, 34, 34))
        );
    }// </editor-fold>//GEN-END:initComponents

    private void txtTotalPropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_txtTotalPropertyChange
        txtTotal.setHorizontalAlignment(4);
    }//GEN-LAST:event_txtTotalPropertyChange

    private void txtTotalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtTotalActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtTotalActionPerformed

    private void txtDescuentoPropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_txtDescuentoPropertyChange
        txtDescuento.setHorizontalAlignment(4);
    }//GEN-LAST:event_txtDescuentoPropertyChange

    private void txtSaldoPropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_txtSaldoPropertyChange
        txtSaldo.setHorizontalAlignment(4);
    }//GEN-LAST:event_txtSaldoPropertyChange

    private void txtSaldoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtSaldoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtSaldoActionPerformed

    private void cboTipoPagoItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_cboTipoPagoItemStateChanged

    }//GEN-LAST:event_cboTipoPagoItemStateChanged

    private void txtAbonoStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_txtAbonoStateChanged
 
    }//GEN-LAST:event_txtAbonoStateChanged

    private void txtCristalCercaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtCristalCercaKeyTyped
        
    }//GEN-LAST:event_txtCristalCercaKeyTyped

    private void txtCristalCercaFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtCristalCercaFocusLost

    }//GEN-LAST:event_txtCristalCercaFocusLost

    private void txtAddCercaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtAddCercaKeyTyped
        
    }//GEN-LAST:event_txtAddCercaKeyTyped

    private void txtOICercaAKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtOICercaAKeyTyped
        
    }//GEN-LAST:event_txtOICercaAKeyTyped

    private void txtOICercaCILKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtOICercaCILKeyTyped
        
    }//GEN-LAST:event_txtOICercaCILKeyTyped

    private void txtOICercaESFKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtOICercaESFKeyTyped
        
    }//GEN-LAST:event_txtOICercaESFKeyTyped

    private void txtODCercaAKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtODCercaAKeyTyped
       
    }//GEN-LAST:event_txtODCercaAKeyTyped

    private void txtODCercaCILKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtODCercaCILKeyTyped
        
    }//GEN-LAST:event_txtODCercaCILKeyTyped

    private void txtODCercaESFKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtODCercaESFKeyTyped
        
    }//GEN-LAST:event_txtODCercaESFKeyTyped

    private void txtODCercaESFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtODCercaESFActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtODCercaESFActionPerformed

    private void txtArmazonCercaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtArmazonCercaKeyTyped
        
    }//GEN-LAST:event_txtArmazonCercaKeyTyped

    private void txtArmazonCercaFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtArmazonCercaFocusLost
        
    }//GEN-LAST:event_txtArmazonCercaFocusLost

    private void txtCristalLejosKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtCristalLejosKeyTyped
        
    }//GEN-LAST:event_txtCristalLejosKeyTyped

    private void txtCristalLejosFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtCristalLejosFocusLost

        
    }//GEN-LAST:event_txtCristalLejosFocusLost

    private void txtOILejosAKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtOILejosAKeyTyped
        
    }//GEN-LAST:event_txtOILejosAKeyTyped

    private void txtOILejosCILKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtOILejosCILKeyTyped
        
    }//GEN-LAST:event_txtOILejosCILKeyTyped

    private void txtOILejosESFKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtOILejosESFKeyTyped
        
    }//GEN-LAST:event_txtOILejosESFKeyTyped

    private void txtODLejosAKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtODLejosAKeyTyped
        
    }//GEN-LAST:event_txtODLejosAKeyTyped

    private void txtODLejosCILKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtODLejosCILKeyTyped
        
    }//GEN-LAST:event_txtODLejosCILKeyTyped

    private void txtODLejosESFKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtODLejosESFKeyTyped
        
    }//GEN-LAST:event_txtODLejosESFKeyTyped

    private void txtArmazonLejosKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtArmazonLejosKeyTyped
        
    }//GEN-LAST:event_txtArmazonLejosKeyTyped

    private void txtArmazonLejosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtArmazonLejosActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtArmazonLejosActionPerformed

    private void txtArmazonLejosFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtArmazonLejosFocusLost
        
    }//GEN-LAST:event_txtArmazonLejosFocusLost
     
    private void iconDoctorMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconDoctorMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconDoctorMouseClicked

    private void iconClock2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconClock2MouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconClock2MouseClicked

    private void iconCalendarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconCalendarMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconCalendarMouseClicked

    private void iconPlaceMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconPlaceMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconPlaceMouseClicked

    private void iconMailMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconMailMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconMailMouseClicked

    private void iconGenderMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconGenderMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconGenderMouseClicked

    private void iconInstitucionMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconInstitucionMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconInstitucionMouseClicked

    private void iconDniMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconDniMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconDniMouseClicked

    private void iconAddressMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconAddressMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconAddressMouseClicked

    private void iconPhone2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconPhone2MouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconPhone2MouseClicked

    private void iconPhone1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconPhone1MouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconPhone1MouseClicked

    private void btnPrintMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnPrintMouseClicked
        GV.cursorWAIT(this);
        GV.printFicha(GV.getOpenFicha());
        msgRejectedClear();
        GV.cursorDF(this);
    }//GEN-LAST:event_btnPrintMouseClicked

    private void btnPrintMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnPrintMouseEntered
        btnPrint.setIcon(new javax.swing.ImageIcon(getClass().getResource(Icons.getEnteredIcon(btnPrint.getIcon().toString()))));
    }//GEN-LAST:event_btnPrintMouseEntered

    private void btnPrintMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnPrintMouseExited
        btnPrint.setIcon(new javax.swing.ImageIcon(getClass().getResource(Icons.getExitedIcon(btnPrint.getIcon().toString()))));
    }//GEN-LAST:event_btnPrintMouseExited

    private void cboSexoItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_cboSexoItemStateChanged
        
    }//GEN-LAST:event_cboSexoItemStateChanged

    private void txtArmazonLejosFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtArmazonLejosFocusGained
        
    }//GEN-LAST:event_txtArmazonLejosFocusGained

    private void txtODLejosESFFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtODLejosESFFocusLost
        
    }//GEN-LAST:event_txtODLejosESFFocusLost

    private void txtODLejosCILFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtODLejosCILFocusLost
        
    }//GEN-LAST:event_txtODLejosCILFocusLost

    private void txtODLejosAFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtODLejosAFocusLost
        
    }//GEN-LAST:event_txtODLejosAFocusLost

    private void txtOILejosESFFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtOILejosESFFocusLost
        
    }//GEN-LAST:event_txtOILejosESFFocusLost

    private void txtOILejosCILFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtOILejosCILFocusLost
        
    }//GEN-LAST:event_txtOILejosCILFocusLost

    private void txtOILejosAFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtOILejosAFocusLost
        
    }//GEN-LAST:event_txtOILejosAFocusLost

    private void chkEndurecidoLejosItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkEndurecidoLejosItemStateChanged
        try {
            cargarDatos();
        } catch (SQLException | ClassNotFoundException ex) {
            Logger.getLogger(VFicha.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_chkEndurecidoLejosItemStateChanged

    private void chkCapaLejosItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkCapaLejosItemStateChanged
        try {
            cargarDatos();
        } catch (SQLException | ClassNotFoundException ex) {
            Logger.getLogger(VFicha.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_chkCapaLejosItemStateChanged

    private void chkPlusMaxLejosItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkPlusMaxLejosItemStateChanged
        try {
            cargarDatos();
        } catch (SQLException | ClassNotFoundException ex) {
            Logger.getLogger(VFicha.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_chkPlusMaxLejosItemStateChanged

    private void txtAddCercaFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtAddCercaFocusLost
        
    }//GEN-LAST:event_txtAddCercaFocusLost

    private void txtODCercaESFFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtODCercaESFFocusLost
        
    }//GEN-LAST:event_txtODCercaESFFocusLost

    private void txtODCercaCILFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtODCercaCILFocusLost
        
    }//GEN-LAST:event_txtODCercaCILFocusLost

    private void txtODCercaAFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtODCercaAFocusLost
        
    }//GEN-LAST:event_txtODCercaAFocusLost

    private void txtOICercaESFFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtOICercaESFFocusLost
        
    }//GEN-LAST:event_txtOICercaESFFocusLost

    private void txtOICercaCILFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtOICercaCILFocusLost
        
    }//GEN-LAST:event_txtOICercaCILFocusLost

    private void txtOICercaAFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtOICercaAFocusLost
        
    }//GEN-LAST:event_txtOICercaAFocusLost

    private void chkEndurecidoCercaItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkEndurecidoCercaItemStateChanged
        try {
            cargarDatos();
        } catch (SQLException | ClassNotFoundException ex) {
            Logger.getLogger(VFicha.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_chkEndurecidoCercaItemStateChanged

    private void chkCapaCercaItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkCapaCercaItemStateChanged
        try {
            cargarDatos();
        } catch (SQLException | ClassNotFoundException ex) {
            Logger.getLogger(VFicha.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_chkCapaCercaItemStateChanged

    private void chkPlusMaxCercaItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkPlusMaxCercaItemStateChanged
        try {
            cargarDatos();
        } catch (SQLException | ClassNotFoundException ex) {
            Logger.getLogger(VFicha.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_chkPlusMaxCercaItemStateChanged

    private void iconClock3MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_iconClock3MouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_iconClock3MouseClicked

    private void txtAbonosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtAbonosActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtAbonosActionPerformed

    private void txtAbonosPropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_txtAbonosPropertyChange
        txtAbonos.setHorizontalAlignment(4);
    }//GEN-LAST:event_txtAbonosPropertyChange

    private void btnAbonarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnAbonarMouseClicked
        try {
            GV.cursorWAIT(this);
            txtAbono.commitEdit();
            int saldo = GV.strToNumber(txtSaldo.getText());
            int abono = (int)txtAbono.getValue();
            int newSaldo = (saldo-abono);
            if(newSaldo>=0 && abono > 0){
                if(cboTipoPago.getSelectedIndex()==0){
                    OptionPane.showMsg("Operación cancelada", "Para registrar un abono debe ingresar un tipo de pago correcto.",2);
                    msgRejected("No ha seleccionado un tipo de pago.");
                    GV.cursorDF(this);
                    return;
                }
                HistorialPago hp = new HistorialPago(null, new Date(), abono, cboTipoPago.getSelectedIndex(), GV.getOpenFicha().getCod(), 1, null, 0);
                GV.getOpenFicha().setSaldo(newSaldo);
                if(newSaldo == 0 && (GV.getOpenFicha().getEstado() == GV.estadoFichaPending())){
                    GV.getOpenFicha().setEstado(GV.estadoFichaPaid());
                }
                load.update(GV.getOpenFicha());
                load.add(hp);
                OptionPane.showMsg("Abono registrado", "Se ha registrado un nuevo abono",1);
                boton.ficha();
                GV.cursorDF(this);
                msgRejectedClear();
                return;
            }
            if(newSaldo < 0){
                msgRejected("El abono ingresado excede el saldo.");
            }
            OptionPane.showMsg("Operación cancelada", "Para registrar un abono debe ingresar un valor correcto.",2);
            GV.cursorDF(this);
        } catch (ParseException | InstantiationException | IllegalAccessException | SQLException | ClassNotFoundException ex) {
            Logger.getLogger(VFicha.class.getName()).log(Level.SEVERE, null, ex);
            OptionPane.showMsg("Error de sistema", "Ha ocurrido un error interno,\n"
                    + "Póngase en contacto con ssu proveedor de software para dar solucion a este problema\n"
                    + "Detalle: Error en VFicha()>btnAbonar()", 3);
        }
    }//GEN-LAST:event_btnAbonarMouseClicked

    private void btnAbonarMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnAbonarMouseEntered
        btnAbonar.setIcon(new javax.swing.ImageIcon(getClass().getResource(Icons.getEnteredIcon(btnAbonar.getIcon().toString()))));
    }//GEN-LAST:event_btnAbonarMouseEntered

    private void btnAbonarMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnAbonarMouseExited
        btnAbonar.setIcon(new javax.swing.ImageIcon(getClass().getResource(Icons.getExitedIcon(btnAbonar.getIcon().toString()))));
    }//GEN-LAST:event_btnAbonarMouseExited

    private void btnHistorialPagosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnHistorialPagosMouseClicked
        OptionPane.showMsg("Historial de abonos", mostrarAbonos(GV.getOpenFicha().getCod()), 1);
    }//GEN-LAST:event_btnHistorialPagosMouseClicked

    private void btnHistorialPagosMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnHistorialPagosMouseEntered
        btnHistorialPagos.setIcon(new javax.swing.ImageIcon(getClass().getResource(Icons.getEnteredIcon(btnHistorialPagos.getIcon().toString()))));
    }//GEN-LAST:event_btnHistorialPagosMouseEntered

    private void btnHistorialPagosMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnHistorialPagosMouseExited
        btnHistorialPagos.setIcon(new javax.swing.ImageIcon(getClass().getResource(Icons.getExitedIcon(btnHistorialPagos.getIcon().toString()))));
    }//GEN-LAST:event_btnHistorialPagosMouseExited

    private void btnGarantiaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnGarantiaMouseClicked
        if(GV.getOpenFicha().getEstado() == GV.estadoFichaDelivered()){
            OptionPane.showOptionPanel(new OpanelGuaranteeData(GV.getOpenFicha()), OptionPane.titleFichaGuarantee());
        }else{
            OptionPane.showMsg("No se pudo generar solicitud", "Sólo se generan garantías a productos despachados", 2);
        }
        return;  
    }//GEN-LAST:event_btnGarantiaMouseClicked

    private void btnGarantiaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnGarantiaMouseEntered
        btnGarantia.setIcon(new javax.swing.ImageIcon(getClass().getResource(Icons.getEnteredIcon(btnGarantia.getIcon().toString()))));
    }//GEN-LAST:event_btnGarantiaMouseEntered

    private void btnGarantiaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnGarantiaMouseExited
        btnGarantia.setIcon(new javax.swing.ImageIcon(getClass().getResource(Icons.getExitedIcon(btnGarantia.getIcon().toString()))));
    }//GEN-LAST:event_btnGarantiaMouseExited

    private void btnDespacharMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnDespacharMouseClicked
        if(GV.getOpenFicha().getEstado() == GV.estadoFichaDelivered() || 
                GV.getOpenFicha().getEstado()==GV.estadoFichaPaid() || 
                GV.getOpenFicha().getEstado() == GV.estadoFichaWarranty() ||
                GV.getOpenFicha().getConvenio().getId() != 0){
            OptionPane.showOptionPanel(new OpanelViewOrOpenDelivery(), OptionPane.titleDeliver());
        }else{
            OptionPane.showMsg("No se puede generar reporte", "Para generar un reporte de despacho debe seleccionar una\n"
                    + "receta oftalmológica pagada o en garantía", 2);
        }
    }//GEN-LAST:event_btnDespacharMouseClicked

    private void btnDespacharMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnDespacharMouseEntered
        btnDespachar.setIcon(new javax.swing.ImageIcon(getClass().getResource(Icons.getEnteredIcon(btnDespachar.getIcon().toString()))));
    }//GEN-LAST:event_btnDespacharMouseEntered

    private void btnDespacharMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnDespacharMouseExited
        btnDespachar.setIcon(new javax.swing.ImageIcon(getClass().getResource(Icons.getExitedIcon(btnDespachar.getIcon().toString()))));
    }//GEN-LAST:event_btnDespacharMouseExited


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel btnAbonar;
    private javax.swing.JLabel btnDespachar;
    private javax.swing.JLabel btnGarantia;
    private javax.swing.JLabel btnHistorialPagos;
    private javax.swing.JLabel btnPrint;
    private javax.swing.JComboBox<String> cboSexo;
    private javax.swing.JComboBox<String> cboTipoPago;
    private javax.swing.JCheckBox chkCapaCerca;
    private javax.swing.JCheckBox chkCapaLejos;
    private javax.swing.JCheckBox chkEndurecidoCerca;
    private javax.swing.JCheckBox chkEndurecidoLejos;
    private javax.swing.JCheckBox chkPlusMaxCerca;
    private javax.swing.JCheckBox chkPlusMaxLejos;
    private javax.swing.JLabel iconAddress;
    private javax.swing.JLabel iconCalendar;
    private javax.swing.JLabel iconClock2;
    private javax.swing.JLabel iconClock3;
    private javax.swing.JLabel iconDni;
    private javax.swing.JLabel iconDoctor;
    private javax.swing.JLabel iconGender;
    private javax.swing.JLabel iconInstitucion;
    private javax.swing.JLabel iconMail;
    private javax.swing.JLabel iconPhone1;
    private javax.swing.JLabel iconPhone2;
    private javax.swing.JLabel iconPlace;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel40;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel42;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lblDescuento;
    private javax.swing.JLabel lblMessageStatus;
    private javax.swing.JSpinner txtAbono;
    private javax.swing.JTextField txtAbonos;
    private javax.swing.JTextField txtAddCerca;
    private javax.swing.JTextField txtArmazonCerca;
    private javax.swing.JTextField txtArmazonLejos;
    private javax.swing.JTextField txtCristalCerca;
    private javax.swing.JTextField txtCristalLejos;
    private javax.swing.JSpinner txtDPCerca;
    private javax.swing.JSpinner txtDPLejos;
    private javax.swing.JTextField txtDescuento;
    private javax.swing.JLabel txtDireccionCliente;
    private javax.swing.JLabel txtDoctor;
    private javax.swing.JLabel txtFechaEntrega;
    private javax.swing.JLabel txtFolio;
    private javax.swing.JLabel txtHora;
    private javax.swing.JLabel txtInstitucion;
    private javax.swing.JLabel txtLugarEntrega;
    private javax.swing.JLabel txtMailCliente;
    private javax.swing.JLabel txtNacimiento;
    private javax.swing.JLabel txtNombreCliente;
    private javax.swing.JTextField txtODCercaA;
    private javax.swing.JTextField txtODCercaCIL;
    private javax.swing.JTextField txtODCercaESF;
    private javax.swing.JTextField txtODLejosA;
    private javax.swing.JTextField txtODLejosCIL;
    private javax.swing.JTextField txtODLejosESF;
    private javax.swing.JTextField txtOICercaA;
    private javax.swing.JTextField txtOICercaCIL;
    private javax.swing.JTextField txtOICercaESF;
    private javax.swing.JTextField txtOILejosA;
    private javax.swing.JTextField txtOILejosCIL;
    private javax.swing.JTextField txtOILejosESF;
    private javax.swing.JTextArea txtObs;
    private javax.swing.JLabel txtRutCliente;
    private javax.swing.JTextField txtSaldo;
    private javax.swing.JLabel txtTelefonoCliente1;
    private javax.swing.JLabel txtTelefonoCliente2;
    private javax.swing.JTextField txtTotal;
    // End of variables declaration//GEN-END:variables

    
    private void cargarCbos() throws SQLException, ClassNotFoundException {
        cboSexo.removeAllItems();
        cboSexo.addItem("Sin Seleccionar");
        cboSexo.addItem("Femenino");
        cboSexo.addItem("Masculino");
        
        cboTipoPago.removeAllItems();
        cboTipoPago.addItem("Seleccione");
        for (Object temp : load.listar("0", new TipoPago())) {
            cboTipoPago.addItem(((TipoPago)temp).getNombre());
        }
    }

    private void cargarDatos() throws SQLException, ClassNotFoundException {
        //Limpiar todo menos doctor y datos de entrega
        
        Ficha ficha = GV.getOpenFicha();
        if(ficha.getConvenio() !=null && 
                ficha.getConvenio().getFechaInicio() != null){
            ContentAdmin.lblTitle.setText("Receta oftalmológica "+getEstado()+" con convenio: "+ficha.getConvenio().getNombre());
        }else{
            ContentAdmin.lblTitle.setText("Receta oftalmológica "+getEstado()+" generada el "+GV.dateToString(GV.getOpenFicha().getFecha(), "dd.mm.yyyy"));
        }
        String folio = (ficha.getCod() != null)? ficha.getCod():"";
        
        Doctor doctor = (ficha.getDoctor()!= null)? ficha.getDoctor():new Doctor();
        Armazon cerca = (ficha.getCerca()!= null)? ficha.getCerca():new Armazon();
        Armazon lejos = (ficha.getLejos()!= null)? ficha.getLejos():new Armazon();
        Cliente cliente = (ficha.getCliente()!= null)? ficha.getCliente():new Cliente();
        Institucion institucion = (ficha.getInstitucion()!=null) ? ficha.getInstitucion():new Institucion();
        
        txtFolio.setText(folio);
        txtFechaEntrega.setText(GV.dateToString(ficha.getFechaEntrega(), DATE_FORMAT));
        txtLugarEntrega.setText(ficha.getLugarEntrega());
        txtHora.setText(ficha.getHoraEntrega());
        String doctorName = (doctor.getNombre()!= null)? doctor.getNombre():"";
        txtDoctor.setText(doctorName);
        String inst =  (institucion.getNombre()!=null)? institucion.getNombre():"";
        txtInstitucion.setText(inst);
        
        
        String rut = (cliente.getCod()!=null)?cliente.getCod():"";
        txtRutCliente.setText(rut);
        String nombre = (cliente.getNombre() != null)? cliente.getNombre():"";
        txtNombreCliente.setText(nombre);
        String t1 = (cliente.getTelefono1()!=null)?cliente.getTelefono1():"";
        txtTelefonoCliente1.setText(t1);
        String t2 = (cliente.getTelefono2()!=null)?cliente.getTelefono2():"";
        txtTelefonoCliente2.setText(t2);
        String mail = (cliente.getEmail()!=null)? cliente.getEmail():"";
        txtMailCliente.setText(mail);
        String ciudad = (cliente.getCiudad()!= null)? " ,Ciudad: "+cliente.getCiudad():"";
        String comuna = (cliente.getComuna()!= null)? " ,Comuna: "+cliente.getComuna():"";
        cboSexo.setSelectedIndex(cliente.getSexo());
        String direccion = (cliente.getDireccion() != null)? cliente.getDireccion():"";
        txtDireccionCliente.setText(direccion+comuna+ciudad);
        String nac = (cliente.getNacimiento()!=null)? GV.dateToString(cliente.getNacimiento(), DATE_FORMAT):"";
        txtNacimiento.setText(nac);
        
        
        String addCerca = (cerca.getAdd() != null)? cerca.getAdd():"";
        txtAddCerca.setText(addCerca);
        String marcaCerca = (cerca.getMarca()!= null)? cerca.getMarca():"";
        txtArmazonCerca.setText(marcaCerca);
        String marcaLejos = (lejos.getMarca()!= null)? lejos.getMarca():"";
        txtArmazonLejos.setText(marcaLejos);
        String cristalCerca = (cerca.getCristal()!=null)? cerca.getCristal():"";
        txtCristalCerca.setText(cristalCerca);
        String cristalLejos = (lejos.getCristal()!=null)? lejos.getCristal():"";
        txtCristalLejos.setText(cristalLejos);
        int dpCerca = cerca.getDp();
        txtDPCerca.setModel(new SpinnerNumberModel(dpCerca, dpCerca, dpCerca, 1));
        int dpLejos = lejos.getDp();
        txtDPLejos.setModel(new SpinnerNumberModel(dpLejos, dpLejos, dpLejos, 1));
        String odCEsf = (cerca.getOdEsf()!=null)? cerca.getOdEsf():"";
        txtODCercaESF.setText(odCEsf);
        String odCA = (cerca.getOdA()!=null)?cerca.getOdA():"";
        txtODCercaA.setText(odCA);
        String odCCil = (cerca.getOdCil()!=null)?cerca.getOdCil():"";
        txtODCercaCIL.setText(odCCil);
        String odLEsf = (lejos.getOdEsf()!=null)? lejos.getOdEsf():""; 
        txtODLejosESF.setText(odLEsf);
        String odLA = (lejos.getOdA()!=null)?lejos.getOdA():"";
        txtODLejosA.setText(odLA);
        String odLCil = (lejos.getOdCil()!=null)?lejos.getOdCil():"";
        txtODLejosCIL.setText(odLCil);
        String oiCEsf = (cerca.getOiEsf()!=null)? cerca.getOiEsf():"";
        String oiCA = (cerca.getOiA()!=null)? cerca.getOiA():"";
        String oiCCil = (cerca.getOiCil()!=null)? cerca.getOiCil():"";
        txtOICercaESF.setText(oiCEsf);
        txtOICercaA.setText(oiCA);
        txtOICercaCIL.setText(oiCCil);
        String oiLEsf = (lejos.getOiEsf()!=null)? lejos.getOiEsf():"";
        String oiLA = (lejos.getOiA()!=null)? lejos.getOiA():"";
        String oiLCil = (lejos.getOiCil()!=null)? lejos.getOiCil():"";
        txtOILejosESF.setText(oiLEsf);
        txtOILejosA.setText(oiLA);
        txtOILejosCIL.setText(oiLCil);
        String obs = (ficha.getObservacion()!=null)?ficha.getObservacion():"";
        boolean capCerca = (cerca.getCapa()==1)? true:false;
        chkCapaCerca.setSelected(capCerca);
        boolean capLejos = (lejos.getCapa()==1)? true:false;
        chkCapaLejos.setSelected(capLejos);
        boolean endCerca = (cerca.getEndurecido()==1)? true:false;
        chkEndurecidoCerca.setSelected(endCerca);
        boolean endLejos = (lejos.getEndurecido()==1)? true:false;
        chkEndurecidoLejos.setSelected(endLejos);
        boolean pmCerca = (cerca.getPlusMax()==1)? true:false;
        chkPlusMaxCerca.setSelected(pmCerca);
        boolean pmLejos = (lejos.getPlusMax()==1)? true:false;
        chkPlusMaxLejos.setSelected(pmLejos);
        int total = ficha.getValorTotal()-ficha.getDescuento();
        txtTotal.setText(GV.strToPrice(total));
        txtDescuento.setText(GV.strToPrice(ficha.getDescuento()));
        txtAbonos.setText(abonos(ficha.getCod()));
        txtSaldo.setText(GV.strToPrice(ficha.getSaldo()));
        txtObs.setText(obs);
        if(GV.getOpenFicha().getEstado() == GV.estadoFichaPaid() || 
           GV.getOpenFicha().getEstado() == GV.estadoFichaWarranty() ||
           GV.getOpenFicha().getConvenio().getId() != 0){
            btnAbonar.setVisible(false);
        }
        msgRejectedClear();
    }

    private String abonos(String codFicha){
        String[][] abonos = (String[][])GlobalValuesFunctions.listarAbonos(codFicha);
        int monto = 0;
        int i = 0;
        if(abonos != null){
            for (i = 0; i < abonos.length; i++) {
                monto = monto + GV.strToNumber(abonos[i][0]);
            }
        }
        return GV.strToPrice(monto);
    }
    
    private String mostrarAbonos(String codFicha){
        String[][] abonos = (String[][])GlobalValuesFunctions.listarAbonos(codFicha);
        int monto = 0;
        int i = 0;
        String desc = "";
        if(abonos != null){
            for (i = 0; i < abonos.length; i++) {
                monto = monto + GV.strToNumber(abonos[i][0]);
                desc = desc+abonos[i][0]+", Medio de pago: "+abonos[i][1]+", Fecha: "+abonos[i][2]+"\n";
            }
        }
        desc = desc+"-----------------------------------------------------------\n"
                +"Total abonado: "+GV.strToPrice(monto);
        return desc;
    }

    private void load() {
        try {
            cargarDatos();
        } catch (SQLException | ClassNotFoundException ex) {
            Logger.getLogger(VFicha.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    /**
     * muestra un mensaje en el panel, si el mensaje es vacío o nulo no aparece
     * @param message 
     */
    private void msgRejected(String message) {
        message = GV.getStr(message);
        if(message.isEmpty()){
            lblMessageStatus.setText("");
            lblMessageStatus.setVisible(false);
        }else{
            lblMessageStatus.setText(message);
            lblMessageStatus.setForeground(rojo);
            lblMessageStatus.setVisible(true);
        }
    }
    
    private void msgWarning(String message){
        message = GV.getStr(message);
        if(message.isEmpty()){
            lblMessageStatus.setText("");
            lblMessageStatus.setVisible(false);
        }else{
            lblMessageStatus.setText(message);
            lblMessageStatus.setForeground(negro);
            lblMessageStatus.setVisible(true);
        }
    }
    
    private void msgRejectedClear(){
        msgRejected(null);
    }

    private String getEstado() {
        String status = "";
        int estado = GV.getOpenFicha().getEstado();
        if(estado == GV.estadoFichaDeleted())status = "anulada";
        if(estado == GV.estadoFichaDelivered())status = "entregada";
        if(estado == GV.estadoFichaPaid())status = "pagada";
        if(estado == GV.estadoFichaPending())status = "por pagar";
        if(estado == GV.estadoFichaWarranty())status = "en garantía";
        if(GV.getOpenFicha().getValorTotal() == 0)status = "en garantía";
        return status;
    }
}
